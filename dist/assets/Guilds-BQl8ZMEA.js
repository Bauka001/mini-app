import{j as e,n as p,c as m,G as O,o as _,h as B,p as U,U as L,a as E,L as W,l as Y}from"./vendor-ui-CeXOM041.js";import{u as $,a as r}from"./vendor-react-BHatN85T.js";import{u as Q}from"./index-BN-omT0U.js";import"./vendor-utils-IhVzdFhg.js";const V=[{id:"g1",name:"Dragon Slayers",creatorId:"u1",emblem:"ðŸ‰",description:"We conquer the hardest games!",members:[{id:"u2",name:"Alex",score:1500},{id:"u3",name:"Sarah",score:1200}],messages:[{id:1,sender:"Alex",text:"Anyone up for a battle?",timestamp:new Date().toISOString()},{id:2,sender:"Sarah",text:"I am training right now!",timestamp:new Date().toISOString()}],totalScore:2700},{id:"g2",name:"Mind Masters",creatorId:"u4",emblem:"ðŸ§ ",description:"Focus and precision.",members:[{id:"u5",name:"Brainiac",score:2e3}],messages:[],totalScore:2e3},{id:"g3",name:"Founding Group",creatorId:"admin",emblem:"ðŸ‘‘",description:"Official community guild.",members:[{id:"admin",name:"Admin",score:9999},{id:"u6",name:"Player1",score:500},{id:"u7",name:"Player2",score:450}],messages:[{id:1,sender:"Admin",text:"Welcome to the official guild!",timestamp:new Date(Date.now()-36e5).toISOString()}],totalScore:10949}],X=[{id:1,sender:"System",text:"Welcome to Global Chat!",timestamp:new Date().toISOString(),isBot:!0},{id:2,sender:"Guest_123",text:"How do I earn gems?",timestamp:new Date(Date.now()-6e4).toISOString()},{id:3,sender:"Helper_Bot",text:"You can earn gems by completing social tasks in Settings!",timestamp:new Date(Date.now()-3e4).toISOString(),isBot:!0}],A=["ðŸ›¡ï¸","âš”ï¸","ðŸ‘‘","ðŸ‰","ðŸ¦","ðŸ¦…","ðŸº","âš¡","ðŸ”¥","ðŸ’Ž","ðŸ§ ","ðŸš€"],ae=()=>{$();const{user:i}=Q(),[o,n]=r.useState("list"),[u,b]=r.useState(V),[a,h]=r.useState(null),[j,v]=r.useState(X),[R,g]=r.useState(!1),[x,N]=r.useState(""),[S,k]=r.useState(""),[G,T]=r.useState(A[0]),[f,F]=r.useState(""),[w,C]=r.useState(""),[y,D]=r.useState(""),M=r.useRef(null),z=r.useRef(null);r.useEffect(()=>{var t,s;(t=M.current)==null||t.scrollIntoView({behavior:"smooth"}),(s=z.current)==null||s.scrollIntoView({behavior:"smooth"})},[o,a==null?void 0:a.messages,j]);const P=()=>{if(!x.trim())return;const t={id:`g_${Date.now()}`,name:x,creatorId:String(i.id),emblem:G,description:S||"No description",members:[{id:String(i.id),name:i.firstName,score:i.xp}],messages:[{id:Date.now(),sender:"System",text:`Guild "${x}" created!`,timestamp:new Date().toISOString(),isBot:!0}],totalScore:i.xp};b(s=>[...s,t]),h(t),g(!1),n("my_guild"),N(""),k("")},q=t=>{if(a){alert("You are already in a guild! Leave it first.");return}const s=u.find(d=>d.id===t);if(!s)return;const l={...s,members:[...s.members,{id:String(i.id),name:i.firstName,score:i.xp}],messages:[...s.messages,{id:Date.now(),sender:"System",text:`${i.firstName} joined the guild!`,timestamp:new Date().toISOString(),isBot:!0}]};b(d=>d.map(c=>c.id===t?l:c)),h(l),n("my_guild")},H=()=>{if(a&&confirm("Are you sure you want to leave your guild?")){const t={...a,members:a.members.filter(s=>s.id!==String(i.id))};b(s=>s.map(l=>l.id===a.id?t:l)),h(null),n("list")}},J=t=>{if(t==null||t.preventDefault(),!w.trim()||!a)return;const s={id:Date.now(),sender:i.firstName,text:w,timestamp:new Date().toISOString()},l={...a,messages:[...a.messages,s]};h(l),b(d=>d.map(c=>c.id===a.id?l:c)),C("")},K=t=>{if(t==null||t.preventDefault(),!y.trim())return;const s={id:Date.now(),sender:i.firstName,text:y,timestamp:new Date().toISOString()};v(l=>[...l,s]),D(""),setTimeout(()=>{const l=["That's interesting!","Keep focusing!","Join a guild to earn more rewards.","Did you try the Squid Game yet?"],d=l[Math.floor(Math.random()*l.length)];v(c=>[...c,{id:Date.now(),sender:"Bot",text:d,timestamp:new Date().toISOString(),isBot:!0}])},2e3)},I=u.filter(t=>t.name.toLowerCase().includes(f.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-black text-white pb-24 relative",children:[e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_top,_var(--tw-gradient-stops))] from-gray-900 via-black to-black -z-10"}),e.jsxs("div",{className:"p-4 pt-8 bg-black/80 backdrop-blur-xl sticky top-0 z-20 border-b border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h1",{className:"text-3xl font-black text-white flex items-center gap-3",children:[e.jsx(p,{className:"text-primary",size:32}),"Guilds"]}),e.jsxs("div",{className:"bg-white/10 px-3 py-1 rounded-full text-xs font-bold text-green-400 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Online: ",120+Math.floor(Math.random()*50)]})]}),e.jsxs("div",{className:"flex bg-white/5 p-1 rounded-xl",children:[e.jsxs("button",{onClick:()=>n("global"),className:m("flex-1 py-2.5 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2 uppercase tracking-wide",o==="global"?"bg-primary text-black shadow-lg shadow-primary/20":"text-gray-400 hover:text-white hover:bg-white/5"),children:[e.jsx(O,{size:16})," Global"]}),e.jsxs("button",{onClick:()=>n("list"),className:m("flex-1 py-2.5 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2 uppercase tracking-wide",o==="list"?"bg-primary text-black shadow-lg shadow-primary/20":"text-gray-400 hover:text-white hover:bg-white/5"),children:[e.jsx(_,{size:16})," Find"]}),e.jsxs("button",{onClick:()=>n("my_guild"),className:m("flex-1 py-2.5 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2 uppercase tracking-wide",o==="my_guild"?"bg-primary text-black shadow-lg shadow-primary/20":"text-gray-400 hover:text-white hover:bg-white/5"),children:[e.jsx(p,{size:16})," My Guild"]})]})]}),e.jsxs("div",{className:"p-4 h-[calc(100vh-180px)] flex flex-col",children:[o==="global"&&e.jsxs("div",{className:"flex-1 bg-white/5 rounded-3xl border border-white/5 overflow-hidden flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"p-4 bg-white/5 border-b border-white/5 font-bold text-sm flex items-center gap-2 text-primary",children:[e.jsx(O,{size:18}),"Global Community"]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[j.map(t=>e.jsx("div",{className:m("flex flex-col items-start animate-in fade-in slide-in-from-bottom-2",t.isBot?"items-center w-full":""),children:t.isBot?e.jsx("div",{className:"bg-primary/10 border border-primary/30 px-4 py-1.5 rounded-full text-[10px] text-primary font-bold my-2 text-center uppercase tracking-wider",children:t.text}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-1 pl-1",children:[e.jsx("span",{className:"text-xs font-bold text-blue-400",children:t.sender}),e.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:"bg-white/10 px-4 py-2.5 rounded-2xl rounded-tl-sm text-sm break-words max-w-[85%] shadow-sm",children:t.text})]})},t.id)),e.jsx("div",{ref:z})]}),e.jsxs("form",{onSubmit:K,className:"p-3 bg-black/40 border-t border-white/5 flex gap-2 backdrop-blur-md",children:[e.jsx("input",{type:"text",value:y,onChange:t=>D(t.target.value),placeholder:"Message global chat...",className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-primary focus:bg-white/10 outline-none transition-all placeholder:text-gray-600"}),e.jsx("button",{type:"submit",className:"p-3 bg-primary text-black rounded-xl hover:scale-105 active:scale-95 transition-all shadow-lg shadow-primary/20",children:e.jsx(B,{size:20})})]})]}),o==="list"&&e.jsxs("div",{className:"space-y-4 overflow-y-auto pb-20 no-scrollbar",children:[e.jsx("div",{className:"sticky top-0 z-10 pb-2",children:e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx(_,{className:"absolute left-3 top-3.5 text-gray-500 group-focus-within:text-primary transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search guilds...",value:f,onChange:t=>F(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-10 pr-4 py-3 text-sm focus:border-primary focus:bg-white/10 outline-none transition-all placeholder:text-gray-600"})]}),e.jsx("button",{onClick:()=>g(!0),className:"bg-primary text-black px-5 rounded-2xl font-bold hover:scale-105 active:scale-95 transition-all shadow-lg shadow-primary/20",children:e.jsx(U,{size:24})})]})}),R&&e.jsxs("div",{className:"bg-white/10 p-5 rounded-3xl border border-white/10 animate-in fade-in slide-in-from-top-4 mb-4 shadow-2xl",children:[e.jsx("h3",{className:"font-bold mb-4 text-lg",children:"Create New Guild"}),e.jsx("label",{className:"text-xs text-gray-400 font-bold ml-1 mb-1 block uppercase",children:"Choose Emblem"}),e.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 no-scrollbar",children:A.map(t=>e.jsx("button",{onClick:()=>T(t),className:m("min-w-[48px] h-12 flex items-center justify-center rounded-xl text-2xl border-2 transition-all",G===t?"bg-primary border-primary scale-110 shadow-lg":"bg-black/20 border-transparent hover:bg-white/10"),children:t},t))}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Guild Name",value:x,onChange:t=>N(t.target.value),className:"w-full bg-black/30 p-4 rounded-xl border border-white/10 text-white focus:border-primary outline-none transition-colors"}),e.jsx("input",{type:"text",placeholder:"Motto / Description",value:S,onChange:t=>k(t.target.value),className:"w-full bg-black/30 p-4 rounded-xl border border-white/10 text-white focus:border-primary outline-none transition-colors text-sm"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-3 bg-white/5 rounded-xl text-sm font-bold hover:bg-white/10 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:P,disabled:!x.trim(),className:"flex-1 py-3 bg-primary text-black rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 transition-all",children:"Create Guild"})]})]}),I.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500 gap-4",children:[e.jsx(p,{size:48,className:"opacity-20"}),e.jsx("p",{children:f?"No guilds found.":"No guilds yet. Be the first!"})]}):I.map(t=>e.jsxs("div",{className:"bg-white/5 p-4 rounded-3xl border border-white/5 flex justify-between items-center hover:bg-white/10 active:scale-[0.99] transition-all group shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-gray-800 to-black flex items-center justify-center text-3xl border border-white/10 shadow-inner group-hover:scale-110 transition-transform",children:t.emblem||"ðŸ›¡ï¸"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white leading-tight text-lg",children:t.name}),e.jsx("p",{className:"text-xs text-gray-400 italic mb-1.5 line-clamp-1",children:t.description}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1.5 font-mono bg-black/20 px-2 py-0.5 rounded-md",children:[e.jsx(L,{size:12})," ",t.members.length]}),e.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1.5 font-mono bg-yellow-500/10 px-2 py-0.5 rounded-md",children:[e.jsx(E,{size:12})," ",t.totalScore]})]})]})]}),e.jsx("button",{onClick:()=>q(t.id),className:"px-5 py-2.5 bg-white/10 hover:bg-primary hover:text-black rounded-xl text-xs font-bold transition-all uppercase tracking-wider",children:"Join"})]},t.id))]}),o==="leaderboard"&&e.jsxs("div",{className:"space-y-4 overflow-y-auto pb-20 no-scrollbar",children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 p-6 rounded-3xl border border-yellow-500/30 text-center mb-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),e.jsx(E,{size:48,className:"mx-auto text-yellow-400 mb-2 drop-shadow-lg"}),e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-wider",children:"Guild Rankings"}),e.jsx("p",{className:"text-sm text-yellow-200/80 font-bold",children:"Compete for glory & rewards!"})]}),e.jsx("div",{className:"space-y-3",children:[...u].sort((t,s)=>s.totalScore-t.totalScore).map((t,s)=>e.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5 flex items-center gap-4 hover:bg-white/10 transition-all",children:[e.jsx("div",{className:m("w-10 h-10 flex items-center justify-center font-black text-lg rounded-full border-2 shadow-lg",s===0?"bg-yellow-500 text-black border-yellow-300":s===1?"bg-gray-300 text-black border-gray-100":s===2?"bg-orange-700 text-white border-orange-500":"bg-white/10 text-gray-400 border-white/10"),children:s+1}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-black/30 flex items-center justify-center text-2xl border border-white/10",children:t.emblem}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-white",children:t.name}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsx(L,{size:10})," ",t.members.length]})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-yellow-400 font-black font-mono text-lg",children:t.totalScore.toLocaleString()}),e.jsx("span",{className:"text-[10px] text-gray-500 block uppercase font-bold",children:"Points"})]})]},t.id))})]}),o==="my_guild"&&(a?e.jsxs("div",{className:"h-full flex flex-col animate-in fade-in",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-black p-5 rounded-3xl border border-white/10 mb-4 relative overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 z-10",children:e.jsx("button",{onClick:H,className:"text-red-500/70 hover:text-red-500 p-2 hover:bg-red-500/10 rounded-xl transition-all",children:e.jsx(W,{size:20})})}),e.jsxs("div",{className:"flex flex-col items-center mb-5 relative z-0",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center text-5xl border border-white/10 mb-3 shadow-[0_0_30px_rgba(255,255,255,0.1)]",children:a.emblem}),e.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-400 italic",children:['"',a.description,'"']})]}),e.jsxs("div",{className:"flex -space-x-3 overflow-hidden mb-2 justify-center py-2",children:[a.members.slice(0,5).map((t,s)=>e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 border-2 border-black flex items-center justify-center text-xs font-bold text-white shadow-lg relative z-10",title:t.name,children:t.name[0]},s)),a.members.length>5&&e.jsxs("div",{className:"w-10 h-10 rounded-full bg-gray-800 border-2 border-black flex items-center justify-center text-xs text-gray-400 font-bold relative z-0",children:["+",a.members.length-5]})]})]}),e.jsxs("div",{className:"flex-1 bg-white/5 rounded-3xl border border-white/5 overflow-hidden flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"p-4 bg-white/5 border-b border-white/5 font-bold text-sm flex items-center gap-2 text-gray-300",children:[e.jsx(Y,{size:18}),"Guild Chat"]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.messages.length===0&&e.jsx("div",{className:"text-center text-gray-500 text-sm mt-10",children:"No messages yet. Say hi!"}),a.messages.map(t=>e.jsx("div",{className:m("flex flex-col items-start animate-in fade-in slide-in-from-bottom-2",t.isBot?"items-center w-full":""),children:t.isBot?e.jsx("div",{className:"bg-primary/10 border border-primary/30 px-4 py-1.5 rounded-full text-[10px] text-primary font-bold my-2 text-center uppercase tracking-wider",children:t.text}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-1 pl-1",children:[e.jsx("span",{className:"text-xs font-bold text-primary",children:t.sender}),e.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:"bg-white/10 px-4 py-2.5 rounded-2xl rounded-tl-sm text-sm break-words max-w-[85%] shadow-sm",children:t.text})]})},t.id)),e.jsx("div",{ref:M})]}),e.jsxs("form",{onSubmit:J,className:"p-3 bg-black/40 border-t border-white/5 flex gap-2 backdrop-blur-md",children:[e.jsx("input",{type:"text",value:w,onChange:t=>C(t.target.value),placeholder:"Type a message...",className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm focus:border-primary focus:bg-white/10 outline-none transition-all placeholder:text-gray-600"}),e.jsx("button",{type:"submit",className:"p-3 bg-primary text-black rounded-xl hover:scale-105 active:scale-95 transition-all shadow-lg shadow-primary/20",children:e.jsx(B,{size:20})})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center pb-20 animate-in zoom-in",children:[e.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-6 border border-white/10",children:e.jsx(p,{size:48,className:"text-gray-600"})}),e.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:"No Guild Yet"}),e.jsx("p",{className:"text-gray-400 mb-8 max-w-[200px]",children:"Join a guild to chat with friends and compete in wars!"}),e.jsx("button",{onClick:()=>n("list"),className:"px-8 py-4 bg-primary text-black font-bold rounded-2xl shadow-lg shadow-primary/20 hover:scale-105 transition-transform",children:"Find a Guild"})]}))]})]})};export{ae as GuildsPage};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-hw6-IolU.js","assets/vendor-ui-CeXOM041.js","assets/vendor-react-BHatN85T.js","assets/InfoGuideModal-CZ4CbS3K.js","assets/vendor-utils-IhVzdFhg.js","assets/Shop-B0QGC1Dd.js","assets/Settings-DREzLrym.js","assets/Leaderboard-DNeSHB77.js","assets/Guilds-BQl8ZMEA.js","assets/Battle-CQK7ybyi.js","assets/DailyWorkout-2Ojx1WWc.js","assets/SchulteGame-DWSa1ymp.js","assets/GameWrapper-DlsME0o6.js","assets/MathGame-il_tOcnm.js","assets/skins-DN-ISiFM.js","assets/OddOneOutGame-D5hyPS7h.js","assets/StroopGame-CbvOI9Nh.js","assets/MemoryGame-CzIXWW8a.js","assets/PairsGame-CYJNsb1F.js","assets/ReactionGame-BE6opmWe.js","assets/SquidGame-C1bROcut.js"])))=>i.map(i=>d[i]);
import{j as E,w as mr,n as gr,$ as br,c as vr}from"./vendor-ui-CeXOM041.js";import{b as _r,g as _t,u as hr,c as yr,O as wr,a as U,B as Ar,d as Er,e as V,R as Tr}from"./vendor-react-BHatN85T.js";import{u as kr,c as Wr,i as Pr,a as Sr}from"./vendor-utils-IhVzdFhg.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))w(n);new MutationObserver(n=>{for(const f of n)if(f.type==="childList")for(const B of f.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&w(B)}).observe(document,{childList:!0,subtree:!0});function s(n){const f={};return n.integrity&&(f.integrity=n.integrity),n.referrerPolicy&&(f.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?f.credentials="include":n.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function w(n){if(n.ep)return;n.ep=!0;const f=s(n);fetch(n.href,f)}})();var xe={},pt;function xr(){if(pt)return xe;pt=1;var d=_r();return xe.createRoot=d.createRoot,xe.hydrateRoot=d.hydrateRoot,xe}var Cr=xr();const Or=_t(Cr),Ir="modulepreload",Br=function(d){return"/"+d},ft={},z=function(a,s,w){let n=Promise.resolve();if(s&&s.length>0){let B=function(_){return Promise.all(_.map(J=>Promise.resolve(J).then(Q=>({status:"fulfilled",value:Q}),Q=>({status:"rejected",reason:Q}))))};document.getElementsByTagName("link");const T=document.querySelector("meta[property=csp-nonce]"),q=(T==null?void 0:T.nonce)||(T==null?void 0:T.getAttribute("nonce"));n=B(s.map(_=>{if(_=Br(_),_ in ft)return;ft[_]=!0;const J=_.endsWith(".css"),Q=J?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${Q}`))return;const M=document.createElement("link");if(M.rel=J?"stylesheet":Ir,J||(M.as="script"),M.crossOrigin="",M.href=_,q&&M.setAttribute("nonce",q),document.head.appendChild(M),J)return new Promise((G,D)=>{M.addEventListener("load",G),M.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${_}`)))})}))}function f(B){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=B,window.dispatchEvent(T),!T.defaultPrevented)throw B}return n.then(B=>{for(const T of B||[])T.status==="rejected"&&f(T.reason);return a().catch(f)})},jr=()=>{const d=hr(),a=yr(),{t:s}=kr(),w=[{path:"/",icon:mr,label:"home"},{path:"/community",icon:gr,label:"guilds"},{path:"/shop",icon:br,label:"shop"}];return E.jsxs("div",{className:"flex flex-col h-screen bg-black text-white overflow-hidden relative",children:[E.jsx("div",{className:"flex-1 overflow-y-auto",children:E.jsx(wr,{})}),E.jsx("nav",{className:"fixed bottom-6 left-4 right-4 bg-white/10 backdrop-blur-xl border border-white/10 rounded-2xl p-2 shadow-2xl z-50",children:E.jsx("div",{className:"flex justify-around items-center",children:w.map(n=>{const f=a.pathname===n.path;return E.jsxs("button",{onClick:()=>d(n.path),className:vr("flex flex-col items-center justify-center w-16 h-14 rounded-xl transition-all duration-300 relative overflow-hidden",f?"text-black bg-primary shadow-[0_0_15px_rgba(255,215,0,0.5)] scale-105":"text-gray-400 hover:text-white hover:bg-white/5"),children:[E.jsx(n.icon,{size:22,strokeWidth:f?2.5:2}),f&&E.jsx("span",{className:"text-[10px] font-bold mt-0.5 leading-none",children:s(n.label)})]},n.path)})})})]})};function qr(d,a){let s;try{s=d()}catch{return}return{getItem:n=>{var f;const B=q=>q===null?null:JSON.parse(q,void 0),T=(f=s.getItem(n))!=null?f:null;return T instanceof Promise?T.then(B):B(T)},setItem:(n,f)=>s.setItem(n,JSON.stringify(f,void 0)),removeItem:n=>s.removeItem(n)}}const He=d=>a=>{try{const s=d(a);return s instanceof Promise?s:{then(w){return He(w)(s)},catch(w){return this}}}catch(s){return{then(w){return this},catch(w){return He(w)(s)}}}},Mr=(d,a)=>(s,w,n)=>{let f={storage:qr(()=>localStorage),partialize:C=>C,version:0,merge:(C,H)=>({...H,...C}),...a},B=!1;const T=new Set,q=new Set;let _=f.storage;if(!_)return d((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),s(...C)},w,n);const J=()=>{const C=f.partialize({...w()});return _.setItem(f.name,{state:C,version:f.version})},Q=n.setState;n.setState=(C,H)=>(Q(C,H),J());const M=d((...C)=>(s(...C),J()),w,n);n.getInitialState=()=>M;let G;const D=()=>{var C,H;if(!_)return;B=!1,T.forEach(l=>{var y;return l((y=w())!=null?y:M)});const Z=((H=f.onRehydrateStorage)==null?void 0:H.call(f,(C=w())!=null?C:M))||void 0;return He(_.getItem.bind(_))(f.name).then(l=>{if(l)if(typeof l.version=="number"&&l.version!==f.version){if(f.migrate){const y=f.migrate(l.state,l.version);return y instanceof Promise?y.then(S=>[!0,S]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,l.state];return[!1,void 0]}).then(l=>{var y;const[S,R]=l;if(G=f.merge(R,(y=w())!=null?y:M),s(G,!0),S)return J()}).then(()=>{Z==null||Z(G,void 0),G=w(),B=!0,q.forEach(l=>l(G))}).catch(l=>{Z==null||Z(void 0,l)})};return n.persist={setOptions:C=>{f={...f,...C},C.storage&&(_=C.storage)},clearStorage:()=>{_==null||_.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>D(),hasHydrated:()=>B,onHydrate:C=>(T.add(C),()=>{T.delete(C)}),onFinishHydration:C=>(q.add(C),()=>{q.delete(C)})},f.skipHydration||D(),G||M},Rr=Mr,Lr=()=>{var d,a,s;return(s=(a=(d=window.Telegram)==null?void 0:d.WebApp)==null?void 0:a.initDataUnsafe)!=null&&s.user?window.Telegram.WebApp.initDataUnsafe.user:null},Nr={id:123456789,first_name:"Traveler",last_name:"",username:"traveler",photo_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"},Te=Lr()||Nr,dt=()=>[{id:"1",description:"Play 5 games",target:5,current:0,reward:50,isClaimed:!1,type:"play_count"},{id:"2",description:"Earn 100 coins",target:100,current:0,reward:100,isClaimed:!1,type:"total_coins"},{id:"3",description:"Play 10 games",target:10,current:0,reward:150,isClaimed:!1,type:"play_count"}],Fr=[{id:"ig_bauka",platform:"instagram",url:"https://www.instagram.com/bauka02.35?igsh=YnJiOHIxaXhkNmk4",reward:10,isClaimed:!1},{id:"yt_founding",platform:"youtube",url:"https://www.youtube.com/@founding.01",reward:10,isClaimed:!1},{id:"tg_founding",platform:"telegram",url:"https://t.me/+od_Mx-6Iz3Q3NWEy",reward:10,isClaimed:!1}],Ur=Wr()(Rr((d,a)=>({language:"kz",soundEnabled:!0,theme:"dark",user:{id:Te.id,firstName:Te.first_name,lastName:Te.last_name,username:Te.username,photoUrl:Te.photo_url,level:1,xp:0},coins:100,gems:0,inventory:["default"],activeSkin:"default",dailyGoalMinutes:10,streak:0,history:[],lastDailyGoalClaimDate:null,challenges:dt(),lastChallengeDate:new Date().toISOString().split("T")[0],socialTasks:Fr,plan:"free",planExpiry:null,setLanguage:s=>d({language:s}),toggleSound:()=>d(s=>({soundEnabled:!s.soundEnabled})),setTheme:s=>d({theme:s}),updateUserProfile:s=>d(w=>({user:{...w.user,...s}})),addGameResult:s=>d(w=>{const n=s.coinsEarned,f=w.user.xp+n,B=Math.floor(f/1e3)+1,T=w.challenges.map(q=>q.isClaimed?q:q.type==="play_count"?{...q,current:q.current+1}:q.type==="total_coins"?{...q,current:q.current+s.coinsEarned}:q);return{coins:w.coins+s.coinsEarned,history:[...w.history,{...s,date:new Date().toISOString().split("T")[0],timestamp:Date.now()}],user:{...w.user,xp:f,level:B},challenges:T}}),upgradePlan:(s,w)=>d({plan:s,planExpiry:Date.now()+w*24*60*60*1e3}),buySkin:(s,w)=>{const{coins:n,inventory:f}=a();return n>=w&&!f.includes(s)?(d({coins:n-w,inventory:[...f,s]}),!0):!1},equipSkin:s=>d({activeSkin:s}),claimDailyReward:s=>d(w=>({coins:w.coins+s,lastDailyGoalClaimDate:new Date().toISOString().split("T")[0]})),refreshChallenges:()=>{const s=new Date().toISOString().split("T")[0],{lastChallengeDate:w}=a();w!==s&&d({challenges:dt(),lastChallengeDate:s})},claimChallengeReward:s=>d(w=>{const n=w.challenges.find(f=>f.id===s);return!n||n.isClaimed||n.current<n.target?w:{coins:w.coins+n.reward,challenges:w.challenges.map(f=>f.id===s?{...f,isClaimed:!0}:f)}}),watchAd:s=>d(w=>({coins:w.coins+s})),claimSocialReward:s=>d(w=>{const n=w.socialTasks.find(f=>f.id===s);return!n||n.isClaimed?w:{gems:(w.gems||0)+n.reward,socialTasks:w.socialTasks.map(f=>f.id===s?{...f,isClaimed:!0}:f)}})}),{name:"focus-storage-v6"})),Hr=U.lazy(()=>z(()=>import("./Home-hw6-IolU.js"),__vite__mapDeps([0,1,2,3,4]))),Vr=U.lazy(()=>z(()=>import("./Shop-B0QGC1Dd.js"),__vite__mapDeps([5,1,2,4]))),Gr=U.lazy(()=>z(()=>import("./Settings-DREzLrym.js"),__vite__mapDeps([6,1,2,3,4]))),zr=U.lazy(()=>z(()=>Promise.resolve().then(()=>fo),void 0)),Jr=U.lazy(()=>z(()=>import("./Leaderboard-DNeSHB77.js"),__vite__mapDeps([7,1,2,4]))),Qr=U.lazy(()=>z(()=>import("./Guilds-BQl8ZMEA.js"),__vite__mapDeps([8,1,2,4])).then(d=>({default:d.GuildsPage}))),Dr=U.lazy(()=>z(()=>import("./Battle-CQK7ybyi.js"),__vite__mapDeps([9,1,2,4])).then(d=>({default:d.BattlePage}))),$r=U.lazy(()=>z(()=>import("./DailyWorkout-2Ojx1WWc.js"),__vite__mapDeps([10,1,2,11,12,4,13,14,15])).then(d=>({default:d.DailyWorkoutPage}))),Kr=U.lazy(()=>z(()=>import("./SchulteGame-DWSa1ymp.js"),__vite__mapDeps([11,1,2,12,4]))),Yr=U.lazy(()=>z(()=>import("./MathGame-il_tOcnm.js"),__vite__mapDeps([13,1,2,12,4,14]))),Xr=U.lazy(()=>z(()=>import("./StroopGame-CbvOI9Nh.js"),__vite__mapDeps([16,1,2,12,4,14]))),Zr=U.lazy(()=>z(()=>import("./MemoryGame-CzIXWW8a.js"),__vite__mapDeps([17,1,2,12,4]))),eo=U.lazy(()=>z(()=>import("./OddOneOutGame-D5hyPS7h.js"),__vite__mapDeps([15,1,2,12,4]))),to=U.lazy(()=>z(()=>import("./PairsGame-CYJNsb1F.js"),__vite__mapDeps([18,1,2,12,4]))),ro=U.lazy(()=>z(()=>import("./ReactionGame-BE6opmWe.js"),__vite__mapDeps([19,1,2,12,4]))),oo=U.lazy(()=>z(()=>import("./SquidGame-C1bROcut.js"),__vite__mapDeps([20,1,2,12,4]))),no=()=>E.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-black text-white",children:E.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})});function io(){const{theme:d}=Ur();return U.useEffect(()=>{document.documentElement.setAttribute("data-theme",d)},[d]),E.jsx(Ar,{children:E.jsx(U.Suspense,{fallback:E.jsx(no,{}),children:E.jsxs(Er,{children:[E.jsxs(V,{path:"/",element:E.jsx(jr,{}),children:[E.jsx(V,{index:!0,element:E.jsx(Hr,{})}),E.jsx(V,{path:"community",element:E.jsx(Qr,{})}),E.jsx(V,{path:"leaderboard",element:E.jsx(Jr,{})}),E.jsx(V,{path:"shop",element:E.jsx(Vr,{})}),E.jsx(V,{path:"settings",element:E.jsx(Gr,{})})]}),E.jsx(V,{path:"/profile",element:E.jsx(zr,{})}),E.jsx(V,{path:"/daily-workout",element:E.jsx($r,{})}),E.jsx(V,{path:"/battle",element:E.jsx(Dr,{})}),E.jsx(V,{path:"/game/schulte",element:E.jsx(Kr,{})}),E.jsx(V,{path:"/game/math",element:E.jsx(Yr,{})}),E.jsx(V,{path:"/game/stroop",element:E.jsx(Xr,{})}),E.jsx(V,{path:"/game/memory",element:E.jsx(Zr,{})}),E.jsx(V,{path:"/game/odd-one",element:E.jsx(eo,{})}),E.jsx(V,{path:"/game/pairs",element:E.jsx(to,{})}),E.jsx(V,{path:"/game/reaction",element:E.jsx(ro,{})}),E.jsx(V,{path:"/game/squid",element:E.jsx(oo,{})})]})})})}const ao={en:{translation:{welcome:"Welcome to Focus",start:"Start Playing",settings:"Settings",shop:"Shop",daily_challenges:"Daily Challenges",leaderboard:"Leaderboard",rank:"Rank",top_players:"Top players this week",watch_ad:"Watch Ad",ad_reward:"Reward",claim:"Claim",done:"Done",keep_playing:"Keep Playing...",notifications:"Notifications",guilds:"Guilds",community_chat:"Community Chat",online_users:"online",type_message:"Type a message...",home:"Home",profile:"Profile",edit_profile:"Edit Profile",level:"Level",save:"Save",cancel:"Cancel",username:"Username",purchased_premium:"Purchased Premium Plan",purchased_skin:"Purchased Skin",game_schulte:"Schulte Table",game_math:"Arithmetic",game_stroop:"Stroop Test",game_memory:"Memory Matrix",game_odd_one:"Odd One Out",game_pairs:"Pairs",pairs_desc:"Find all matching pairs of cards.",odd_one_desc:"Find the item that looks different from the others.",daily_workout:"Daily Workout",workout_desc:"Chain of 3 games for maximum focus.",start_workout:"Start Workout",statistics:"Statistics",attention:"Attention",memory:"Memory",logic:"Logic",perception:"Perception",total_games:"Total Games",avg_score:"Avg. Score",schulte_desc:"Find numbers from 1 to 25 in ascending order. Focus on the center.",math_desc:"Solve as many math problems as you can in 60 seconds.",stroop_desc:"Select the COLOR of the text, not what the text says.",memory_desc:"Remember the highlighted tiles and repeat the pattern.",sequence_desc:"Memorize the sequence of buttons lighting up and repeat it.",instructions:"Instructions",game_over:"Game Over",result:"Your Result",play_again:"Play Again",menu:"Menu",coins_earned:"Coins Earned",total_coins:"Total Coins",premium_access:"Premium Access",skins:"Game Skins",buy:"Buy",equip:"Equip",equipped:"Equipped",cost:"Cost",not_enough_coins:"Not enough coins",language:"Language",sound:"Sound",theme:"Theme",support:"Support",telegram_channel:"Telegram Channel",instagram:"Instagram",youtube:"YouTube Channel",daily_goal:"Daily Goal",claim_reward:"Claim Reward",reward_claimed:"Claimed",min:"min",promo_code:"Promo Code",enter_code:"Enter Code",apply:"Apply",recommended:"Recommended",select_plan:"Select Plan",plan_free:"Free",plan_silver:"Silver",plan_gold:"Gold",plan_premium:"Premium"}},ru:{translation:{welcome:"Добро пожаловать в Focus",start:"Начать игру",settings:"Настройки",shop:"Магазин",daily_challenges:"Ежедневные задания",leaderboard:"Рейтинг",rank:"Топ",top_players:"Лучшие игроки недели",watch_ad:"Смотреть рекламу",ad_reward:"Награда",claim:"Забрать",done:"Готово",keep_playing:"Продолжайте играть...",notifications:"Уведомления",guilds:"Гильдии",community_chat:"Общий Чат",online_users:"онлайн",type_message:"Введите сообщение...",home:"Главная",profile:"Профиль",edit_profile:"Ред. профиль",level:"Уровень",save:"Сохранить",cancel:"Отмена",username:"Имя пользователя",purchased_premium:"Купил Премиум план",purchased_skin:"Купил скин",game_schulte:"Таблица Шульте",game_math:"Арифметика",game_stroop:"Тест Струпа",game_memory:"Матрица Памяти",game_odd_one:"Найди лишнее",game_pairs:"Пары",pairs_desc:"Найдите все совпадающие пары карточек.",odd_one_desc:"Найдите предмет, который отличается от остальных.",daily_workout:"Ежедневная тренировка",workout_desc:"Цепочка из 3 игр для максимального фокуса.",start_workout:"Начать тренировку",statistics:"Статистика",attention:"Внимание",memory:"Память",logic:"Логика",perception:"Восприятие",total_games:"Всего игр",avg_score:"Ср. счет",schulte_desc:"Найдите числа от 1 до 25 по возрастанию. Смотрите в центр сетки.",math_desc:"Решите как можно больше примеров за 60 секунд.",stroop_desc:"Выбирайте ЦВЕТ текста, а не то, что написано.",memory_desc:"Запомните подсвеченные плитки и повторите узор.",sequence_desc:"Запомните последовательность загорания кнопок и повторите её.",instructions:"Инструкция",game_over:"Игра окончена",result:"Ваш результат",play_again:"Играть снова",menu:"Меню",coins_earned:"Заработано монет",total_coins:"Всего монет",premium_access:"Премиум доступ",skins:"Скины",buy:"Купить",equip:"Выбрать",equipped:"Выбрано",cost:"Цена",not_enough_coins:"Недостаточно монет",language:"Язык",sound:"Звук",theme:"Тема",support:"Поддержка",telegram_channel:"Telegram канал",instagram:"Instagram",youtube:"YouTube канал",daily_goal:"Цель дня",claim_reward:"Забрать награду",reward_claimed:"Получено",min:"мин",promo_code:"Промокод",enter_code:"Введите код",apply:"Применить",recommended:"Рекомендуем",select_plan:"Выбрать план",plan_free:"Бесплатный",plan_silver:"Серебряный",plan_gold:"Золотой",plan_premium:"Премиум"}},kz:{translation:{welcome:"Focus-қа қош келдіңіз",start:"Ойынды бастау",settings:"Баптаулар",shop:"Дүкен",daily_challenges:"Күнделікті тапсырмалар",leaderboard:"Рейтинг",rank:"Топ",top_players:"Аптаның үздік ойыншылары",watch_ad:"Жарнама көру",ad_reward:"Сыйлық",claim:"Алу",done:"Орындалды",keep_playing:"Ойнауды жалғастырыңыз...",notifications:"Хабарламалар",guilds:"Гильдиялар",community_chat:"Жалпы Чат",online_users:"онлайн",type_message:"Хабарлама жазыңыз...",home:"Басты бет",profile:"Профиль",edit_profile:"Өңдеу",level:"Деңгей",save:"Сақтау",cancel:"Болдырмау",username:"Пайдаланушы аты",purchased_premium:"Premium сатып алды",purchased_skin:"Скин сатып алды",game_schulte:"Шульте кестесі",game_math:"Арифметика",game_stroop:"Струп тесті",game_memory:"Есте сақтау",game_odd_one:"Артығын тап",game_pairs:"Жұптар",pairs_desc:"Барлық сәйкес келетін жұптарды табыңыз.",odd_one_desc:"Басқаларынан өзгеше затты табыңыз.",daily_workout:"Күнделікті жаттығу",workout_desc:"Фокусты арттыруға арналған 3 ойын тізбегі.",start_workout:"Жаттығуды бастау",statistics:"Статистика",attention:"Зейін",memory:"Есте сақтау",logic:"Логика",perception:"Қабылдау",total_games:"Барлық ойындар",avg_score:"Орт. ұпай",schulte_desc:"1-ден 25-ке дейінгі сандарды өсу ретімен табыңыз. Кестенің ортасына қараңыз.",math_desc:"60 секунд ішінде мүмкіндігінше көп есеп шығарыңыз.",stroop_desc:"Мәтіннің мағынасын емес, ТҮСІН таңдаңыз.",memory_desc:"Жанған ұяшықтарды есте сақтап, қайталаңыз.",sequence_desc:"Түймелердің жану ретін есте сақтап, қайталаңыз.",instructions:"Нұсқаулық",game_over:"Ойын аяқталды",result:"Сіздің нәтижеңіз",play_again:"Қайта ойнау",menu:"Мәзір",coins_earned:"Жиналған монеталар",total_coins:"Барлық монеталар",premium_access:"Премиум рұқсат",skins:"Ойын тақталары",buy:"Сатып алу",equip:"Орнату",equipped:"Орнатылды",cost:"Құны",not_enough_coins:"Монета жеткіліксіз",language:"Тіл",sound:"Дыбыс",theme:"Жарық",support:"Қолдау",telegram_channel:"Telegram арнамыз",instagram:"Instagram",youtube:"YouTube арнамыз",daily_goal:"Күнделікті мақсат",claim_reward:"Сыйлықты алу",reward_claimed:"Алынды",min:"мин",promo_code:"Промокод",enter_code:"Кодты енгізіңіз",apply:"Қолдану",recommended:"Ұсынылады",select_plan:"Планды таңдау",plan_free:"Тегін",plan_silver:"Күміс",plan_gold:"Алтын",plan_premium:"Премиум"}}};Pr.use(Sr).init({resources:ao,lng:"kz",fallbackLng:"en",interpolation:{escapeValue:!1}});var Ce={},ke={},mt={},gt;function so(){return gt||(gt=1,(function(){var d={},a="";try{a=location.hash.toString()}catch{}var s=q(a),w=Z("initParams");if(w)for(var n in w)typeof s[n]>"u"&&(s[n]=w[n]);H("initParams",s);var f=!1,B;try{if(f=window.parent!=null&&window!=window.parent,f){window.addEventListener("message",function(l){if(l.source===window.parent){try{var y=JSON.parse(l.data)}catch{return}if(!(!y||!y.eventType))if(y.eventType=="set_custom_style")l.origin==="https://web.telegram.org"&&(B.innerHTML=y.eventData);else if(y.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else M(y.eventType,y.eventData)}}),B=document.createElement("style"),document.head.appendChild(B);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function T(l){try{return l=l.replace(/\+/g,"%20"),decodeURIComponent(l)}catch{return l}}function q(l){l=l.replace(/^#/,"");var y={};if(!l.length)return y;if(l.indexOf("=")<0&&l.indexOf("?")<0)return y._path=T(l),y;var S=l.indexOf("?");if(S>=0){var R=l.substr(0,S);y._path=T(R),l=l.substr(S+1)}var $=_(l);for(var ce in $)y[ce]=$[ce];return y}function _(l){var y={};if(!l.length)return y;var S=l.split("&"),R,$,ce,de;for(R=0;R<S.length;R++)$=S[R].split("="),ce=T($[0]),de=$[1]==null?null:T($[1]),y[ce]=de;return y}function J(l,y){var S=l.indexOf("#");if(S<0)return l+"#"+y;var R=l.substr(S+1);return R.indexOf("=")>=0||R.indexOf("?")>=0?l+"&"+y:R.length>0?l+"?"+y:l+y}function Q(l,y,S){if(y||(y=function(){}),S===void 0&&(S=""),console.log("[Telegram.WebView] > postEvent",l,S),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(l,JSON.stringify(S)),y();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:l,eventData:S})),y();else if(f)try{var R="https://web.telegram.org";R="*",window.parent.postMessage(JSON.stringify({eventType:l,eventData:S}),R),y()}catch($){y($)}else y({notAvailable:!0})}function M(l,y){console.log("[Telegram.WebView] < receiveEvent",l,y),G(l,function(S){S(l,y)})}function G(l,y){var S=d[l];if(!(S===void 0||!S.length))for(var R=0;R<S.length;R++)try{y(S[R])}catch{}}function D(l,y){d[l]===void 0&&(d[l]=[]);var S=d[l].indexOf(y);S===-1&&d[l].push(y)}function C(l,y){if(d[l]!==void 0){var S=d[l].indexOf(y);S!==-1&&d[l].splice(S,1)}}function H(l,y){try{return window.sessionStorage.setItem("__telegram__"+l,JSON.stringify(y)),!0}catch{}return!1}function Z(l){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+l))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:s,isIframe:f,onEvent:D,offEvent:C,postEvent:Q,receiveEvent:M,callEventCallbacks:G},window.Telegram.Utils={urlSafeDecode:T,urlParseQueryString:_,urlParseHashParams:q,urlAppendHashParams:J,sessionStorageSet:H,sessionStorageGet:Z},window.TelegramGameProxy_receiveEvent=M,window.TelegramGameProxy={receiveEvent:M}})(),(function(){var d=window.Telegram.Utils,a=window.Telegram.WebView,s=a.initParams,w=a.isIframe,n={},f="",B={},T={},q="light",_="6.0",J="unknown",Q=!0,M=!1,G=!1,D="bg_color",C="bg_color",H=null;if(s.tgWebAppData&&s.tgWebAppData.length){f=s.tgWebAppData,B=d.urlParseQueryString(f);for(var Z in B){var l=B[Z];try{(l.substr(0,1)=="{"&&l.substr(-1)=="}"||l.substr(0,1)=="["&&l.substr(-1)=="]")&&(B[Z]=JSON.parse(l))}catch{}}}var y=d.sessionStorageGet("themeParams");if(s.tgWebAppThemeParams&&s.tgWebAppThemeParams.length){var S=s.tgWebAppThemeParams;try{var R=JSON.parse(S);R&&Oe(R)}catch{}}y&&Oe(y);var $=d.sessionStorageGet("defaultColors");if(s.tgWebAppDefaultColors&&s.tgWebAppDefaultColors.length){var ce=s.tgWebAppDefaultColors;try{var de=JSON.parse(ce);de&&De(de)}catch{}}$&&De($),s.tgWebAppVersion&&(_=s.tgWebAppVersion),s.tgWebAppPlatform&&(J=s.tgWebAppPlatform);var Ve=d.sessionStorageGet("isFullscreen");s.tgWebAppFullscreen&&Se(!0),Ve&&Se(Ve=="yes");var Ge=d.sessionStorageGet("isOrientationLocked");Ge&&Qe(Ge=="yes");function ht(e,t){t.theme_params&&(Oe(t.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),Me(),Re(),Le(),k("themeChanged"))}var ze=window.innerHeight;function yt(e,t){t.height&&(window.removeEventListener("resize",Je),Ie(t))}function Je(e){ze!=window.innerHeight&&(ze=window.innerHeight,k("viewportChanged",{isStateStable:!0}))}function wt(e,t){t&&kt(t)}function At(e,t){t&&Wt(t)}function Et(e,t){t.is_visible?(Q=!0,k("activated")):(Q=!1,k("deactivated"))}function Tt(e){if(!(e.metaKey||e.ctrlKey)){for(var t=e.target;t.tagName!="A"&&t.parentNode;)t=t.parentNode;t.tagName=="A"&&t.target!="_blank"&&(t.protocol=="http:"||t.protocol=="https:")&&t.hostname=="t.me"&&(n.openTgLink(t.href),e.preventDefault())}}function te(e){return e.toString().replace(/^\s+|\s+$/g,"")}function k(e){var t=Array.prototype.slice.call(arguments);e=t.shift(),a.callEventCallbacks("webview:"+e,function(r){r.apply(n,t)})}function We(e,t){a.onEvent("webview:"+e,t)}function Pe(e,t){a.offEvent("webview:"+e,t)}function Y(e,t){var r=document.documentElement;r&&r.style&&r.style.setProperty&&r.style.setProperty("--tg-"+e,t)}function Se(e){M=!!e,d.sessionStorageSet("isFullscreen",M?"yes":"no")}function Qe(e){G=!!e,d.sessionStorageSet("isOrientationLocked",G?"yes":"no")}function Oe(e){e.bg_color=="#1c1c1d"&&e.bg_color==e.secondary_bg_color&&(e.secondary_bg_color="#2c2c2e");var t;for(var r in e)(t=pe(e[r]))&&(T[r]=t,r=="bg_color"&&(q=Vt(t)?"dark":"light",Y("color-scheme",q)),r="theme-"+r.split("_").join("-"),Y(r,t));d.sessionStorageSet("themeParams",T)}function De(e){q=="dark"?(e.bg_dark_color&&(D=e.bg_dark_color),e.header_dark_color&&(C=null,H=e.header_dark_color)):(e.bg_color&&(D=e.bg_color),e.header_color&&(C=null,H=e.header_color)),d.sessionStorageSet("defaultColors",e)}var ee={};function $e(e){for(var t=100;--t;){for(var r="",o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",i=o.length,c=0;c<e;c++)r+=o[Math.floor(Math.random()*i)];if(!ee[r])return ee[r]={},r}throw Error("WebAppCallbackIdGenerateFailed")}var me=!1,ge=!1,Ke=!0;function Ie(e){typeof e<"u"&&(Ke=!!e.is_expanded,me=e.height,e.is_state_stable&&(ge=e.height),k("viewportChanged",{isStateStable:!!e.is_state_stable}));var t,r;me!==!1?t=me-K+"px":t=K?"calc(100vh - "+K+"px)":"100vh",ge!==!1?r=ge-K+"px":r=K?"calc(100vh - "+K+"px)":"100vh",Y("viewport-height",t),Y("viewport-stable-height",r)}var re={top:0,bottom:0,left:0,right:0};function kt(e){typeof e<"u"&&(typeof e.top<"u"&&(re.top=e.top),typeof e.bottom<"u"&&(re.bottom=e.bottom),typeof e.left<"u"&&(re.left=e.left),typeof e.right<"u"&&(re.right=e.right),k("safeAreaChanged")),Y("safe-area-inset-top",re.top+"px"),Y("safe-area-inset-bottom",re.bottom+"px"),Y("safe-area-inset-left",re.left+"px"),Y("safe-area-inset-right",re.right+"px")}var oe={top:0,bottom:0,left:0,right:0};function Wt(e){typeof e<"u"&&(typeof e.top<"u"&&(oe.top=e.top),typeof e.bottom<"u"&&(oe.bottom=e.bottom),typeof e.left<"u"&&(oe.left=e.left),typeof e.right<"u"&&(oe.right=e.right),k("contentSafeAreaChanged")),Y("content-safe-area-inset-top",oe.top+"px"),Y("content-safe-area-inset-bottom",oe.bottom+"px"),Y("content-safe-area-inset-left",oe.left+"px"),Y("content-safe-area-inset-right",oe.right+"px")}var Be=!1;function Pt(e){if(!W("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+_);return}Be=!!e,a.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:Be})}var je=!0;function St(e){if(!W("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+_);return}je=!!e,a.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:je})}function xt(e,t){Se(t.is_fullscreen),k("fullscreenChanged")}function Ct(e,t){t.error=="ALREADY_FULLSCREEN"&&!M&&Se(!0),k("fullscreenFailed",{error:t.error})}function Ot(e){if(!W("8.0")){console.warn("[Telegram.WebApp] Orientation locking is not supported in version "+_);return}Qe(e),a.postEvent("web_app_toggle_orientation_lock",!1,{locked:G})}var be=[];function It(e,t){k("homeScreenAdded")}function Bt(e,t){var r=t.status||"unknown";if(be.length>0){for(var o=0;o<be.length;o++){var i=be[o];i(r)}be=[]}k("homeScreenChecked",{status:r})}var ae=!1;function jt(e,t){if(ae){var r=ae;ae=!1,r.callback&&r.callback(!0),k("shareMessageSent")}}function qt(e,t){if(ae){var r=ae;ae=!1,r.callback&&r.callback(!1),k("shareMessageFailed",{error:t.error})}}var se=!1;function Mt(e,t){if(se){var r=se;se=!1,r.callback&&r.callback(!0),k("emojiStatusSet")}}function Rt(e,t){if(se){var r=se;se=!1,r.callback&&r.callback(!1),k("emojiStatusFailed",{error:t.error})}}var ve=!1;function Lt(e,t){if(ve){var r=ve;ve=!1,r.callback&&r.callback(t.status=="allowed"),k("emojiStatusAccessRequested",{status:t.status})}}var ne=!1;function Nt(){return C=="secondary_bg_color"?T.secondary_bg_color:C=="bg_color"?T.bg_color:H}function Ft(e){if(!W("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+_);return}W("6.9")||(T.bg_color&&T.bg_color==e?e="bg_color":T.secondary_bg_color&&T.secondary_bg_color==e&&(e="secondary_bg_color"));var t=null,r=null;if(e=="bg_color"||e=="secondary_bg_color")r=e;else if(W("6.9")&&(t=pe(e),!t))throw console.error("[Telegram.WebApp] Header color format is invalid",e),Error("WebAppHeaderColorInvalid");if(!W("6.9")&&r!="bg_color"&&r!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",e),Error("WebAppHeaderColorKeyInvalid");C=r,H=t,Me()}var Ye=null,qe=null;function Me(){(Ye!=C||qe!=H)&&(Ye=C,qe=H,qe?a.postEvent("web_app_set_header_color",!1,{color:H}):a.postEvent("web_app_set_header_color",!1,{color_key:C}))}function Xe(){return D=="secondary_bg_color"?T.secondary_bg_color:D=="bg_color"?T.bg_color:D}function Ut(e){if(!W("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+_);return}var t;if(e=="bg_color"||e=="secondary_bg_color")t=e;else if(t=pe(e),!t)throw console.error("[Telegram.WebApp] Background color format is invalid",e),Error("WebAppBackgroundColorInvalid");D=t,Re()}var Ze=null;function Re(){var e=Xe();Ze!=e&&(Ze=e,a.postEvent("web_app_set_background_color",!1,{color:e}))}var _e="bottom_bar_bg_color";function he(){return _e=="bottom_bar_bg_color"?T.bottom_bar_bg_color||T.secondary_bg_color||"#ffffff":_e=="secondary_bg_color"?T.secondary_bg_color:_e=="bg_color"?T.bg_color:_e}function Ht(e){if(!W("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+_);return}var t;if(e=="bg_color"||e=="secondary_bg_color"||e=="bottom_bar_bg_color")t=e;else if(t=pe(e),!t)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",e),Error("WebAppBottomBarColorInvalid");_e=t,Le(),window.Telegram.WebApp.SecondaryButton.setParams({})}var et=null;function Le(){var e=he();et!=e&&(et=e,a.postEvent("web_app_set_bottom_bar_color",!1,{color:e})),s.tgWebAppDebug&&nt()}function pe(e){e+="";var t;if(t=/^\s*#([0-9a-f]{6})\s*$/i.exec(e))return"#"+t[1].toLowerCase();if(t=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(e))return("#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]).toLowerCase();if(t=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(e)){var r=parseInt(t[1]),o=parseInt(t[2]),i=parseInt(t[3]);return r=(r<16?"0":"")+r.toString(16),o=(o<16?"0":"")+o.toString(16),i=(i<16?"0":"")+i.toString(16),"#"+r+o+i}return!1}function Vt(e){e=e.replace(/[\s#]/g,""),e.length==3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16),i=Math.sqrt(.299*(t*t)+.587*(r*r)+.114*(o*o));return i<120}function Gt(e,t){typeof e!="string"&&(e=""),typeof t!="string"&&(t=""),e=e.replace(/^\s+|\s+$/g,"").split("."),t=t.replace(/^\s+|\s+$/g,"").split(".");var r=Math.max(e.length,t.length),o,i,c;for(o=0;o<r;o++)if(i=parseInt(e[o])||0,c=parseInt(t[o])||0,i!=c)return i>c?1:-1;return 0}function W(e){return Gt(_,e)>=0}function zt(e){if(window.Blob)try{return new Blob([e]).size}catch{}for(var t=e.length,r=e.length-1;r>=0;r--){var o=e.charCodeAt(r);o>127&&o<=2047?t++:o>2047&&o<=65535&&(t+=2),o>=56320&&o<=57343&&r--}return t}var Jt=(function(){var e=!1,t={};Object.defineProperty(t,"isVisible",{set:function(h){O({is_visible:h})},get:function(){return e},enumerable:!0});var r=null;a.onEvent("back_button_pressed",o);function o(){k("backButtonClicked")}function i(){return{is_visible:e}}function c(h){return typeof h>"u"&&(h=i()),JSON.stringify(h)}function b(){return W("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+_),!1)}function m(){var h=i(),x=c(h);r!==x&&(r=x,a.postEvent("web_app_setup_back_button",!1,h))}function O(h){return b()&&(typeof h.is_visible<"u"&&(e=!!h.is_visible),m()),t}return t.onClick=function(h){return b()&&We("backButtonClicked",h),t},t.offClick=function(h){return b()&&Pe("backButtonClicked",h),t},t.show=function(){return O({is_visible:!0})},t.hide=function(){return O({is_visible:!1})},t})(),X=null,Ne={},K=0;if(s.tgWebAppDebug){X=document.createElement("tg-bottom-bar");var tt={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:he(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var rt in tt)X.style[rt]=tt[rt];document.addEventListener("DOMContentLoaded",function e(t){document.removeEventListener("DOMContentLoaded",e),document.body.appendChild(X)});var ot=document.createElement("style");ot.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',X.appendChild(ot)}function nt(){var e=Ne.main._bottomButton,t=Ne.secondary._bottomButton;e.isVisible||t.isVisible?(X.style.display="flex",K=58,e.isVisible&&t.isVisible&&(t.position=="top"?(X.style.flexDirection="column-reverse",K+=51):t.position=="bottom"?(X.style.flexDirection="column",K+=51):t.position=="left"?X.style.flexDirection="row-reverse":t.position=="right"&&(X.style.flexDirection="row"))):(X.style.display="none",K=0),X.style.background=he(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=K+"px"),Ie()}var it=function(e){var t=e=="main";if(t)var r="web_app_setup_main_button",o="main_button_pressed",i="mainButtonClicked",c="Continue",b=function(){return T.button_color||"#2481cc"},m=function(){return T.button_text_color||"#ffffff"};else var r="web_app_setup_secondary_button",o="secondary_button_pressed",i="secondaryButtonClicked",c="Cancel",b=function(){return he()},m=function(){return T.button_color||"#2481cc"};var O=!1,h=!0,x=!1,j=!1,P=e,u=c,g=!1,A=!1,N="left",v={};Object.defineProperty(v,"type",{get:function(){return P},enumerable:!0}),Object.defineProperty(v,"text",{set:function(p){v.setParams({text:p})},get:function(){return u},enumerable:!0}),Object.defineProperty(v,"color",{set:function(p){v.setParams({color:p})},get:function(){return g||b()},enumerable:!0}),Object.defineProperty(v,"textColor",{set:function(p){v.setParams({text_color:p})},get:function(){return A||m()},enumerable:!0}),Object.defineProperty(v,"isVisible",{set:function(p){v.setParams({is_visible:p})},get:function(){return O},enumerable:!0}),Object.defineProperty(v,"isProgressVisible",{get:function(){return j},enumerable:!0}),Object.defineProperty(v,"isActive",{set:function(p){v.setParams({is_active:p})},get:function(){return h},enumerable:!0}),Object.defineProperty(v,"hasShineEffect",{set:function(p){v.setParams({has_shine_effect:p})},get:function(){return x},enumerable:!0}),t||Object.defineProperty(v,"position",{set:function(p){v.setParams({position:p})},get:function(){return N},enumerable:!0});var L=null;a.onEvent(o,lt);var I=null;if(s.tgWebAppDebug){I=document.createElement("tg-bottom-button");var F={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var le in F)I.style[le]=F[le];X.appendChild(I),I.addEventListener("click",lt,!1),I._bottomButton=v,Ne[e]=I}function lt(){h&&k(i)}function ct(){var p=v.color,ie=v.textColor;if(O){var fe={is_visible:!0,is_active:h,is_progress_visible:j,text:u,color:p,text_color:ie,has_shine_effect:x&&h&&!j};t||(fe.position=N)}else var fe={is_visible:!1};return fe}function pr(p){return typeof p>"u"&&(p=ct()),JSON.stringify(p)}function Ue(){var p=ct(),ie=pr(p);L!==ie&&(L=ie,a.postEvent(r,!1,p),s.tgWebAppDebug&&fr(p))}function fr(p){p.is_visible?(I.style.display="block",I.style.opacity=p.is_active?"1":"0.8",I.style.cursor=p.is_active?"pointer":"auto",I.disabled=!p.is_active,I.innerText=p.text,I.className=p.has_shine_effect?"shine":"",I.style.backgroundImage=p.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+p.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",I.style.backgroundColor=p.color,I.style.color=p.text_color):I.style.display="none",nt()}function dr(p){if(typeof p.text<"u"){var ie=te(p.text);if(!ie.length)throw console.error("[Telegram.WebApp] Bottom button text is required",p.text),Error("WebAppBottomButtonParamInvalid");if(ie.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",ie),Error("WebAppBottomButtonParamInvalid");u=ie}if(typeof p.color<"u")if(p.color===!1||p.color===null)g=!1;else{var fe=pe(p.color);if(!fe)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",p.color),Error("WebAppBottomButtonParamInvalid");g=fe}if(typeof p.text_color<"u")if(p.text_color===!1||p.text_color===null)A=!1;else{var ut=pe(p.text_color);if(!ut)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",p.text_color),Error("WebAppBottomButtonParamInvalid");A=ut}if(typeof p.is_visible<"u"){if(p.is_visible&&!v.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");O=!!p.is_visible}if(typeof p.has_shine_effect<"u"&&(x=!!p.has_shine_effect),!t&&typeof p.position<"u"){if(p.position!="left"&&p.position!="right"&&p.position!="top"&&p.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",p.position),Error("WebAppBottomButtonParamInvalid");N=p.position}return typeof p.is_active<"u"&&(h=!!p.is_active),Ue(),v}return v.setText=function(p){return v.setParams({text:p})},v.onClick=function(p){return We(i,p),v},v.offClick=function(p){return Pe(i,p),v},v.show=function(){return v.setParams({is_visible:!0})},v.hide=function(){return v.setParams({is_visible:!1})},v.enable=function(){return v.setParams({is_active:!0})},v.disable=function(){return v.setParams({is_active:!1})},v.showProgress=function(p){return h=!!p,j=!0,Ue(),v},v.hideProgress=function(){return v.isActive||(h=!0),j=!1,Ue(),v},v.setParams=dr,v},Qt=it("main"),Dt=it("secondary"),at=(function(){var e=!1,t={};Object.defineProperty(t,"isVisible",{set:function(h){O({is_visible:h})},get:function(){return e},enumerable:!0});var r=null;a.onEvent("settings_button_pressed",o);function o(){k("settingsButtonClicked")}function i(){return{is_visible:e}}function c(h){return typeof h>"u"&&(h=i()),JSON.stringify(h)}function b(){return W("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+_),!1)}function m(){var h=i(),x=c(h);r!==x&&(r=x,a.postEvent("web_app_setup_settings_button",!1,h))}function O(h){return b()&&(typeof h.is_visible<"u"&&(e=!!h.is_visible),m()),t}return t.onClick=function(h){return b()&&We("settingsButtonClicked",h),t},t.offClick=function(h){return b()&&Pe("settingsButtonClicked",h),t},t.show=function(){return O({is_visible:!0})},t.hide=function(){return O({is_visible:!1})},t})(),$t=(function(){var e={};function t(r){if(!W("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+_),e;if(r.type=="impact"){if(r.impact_style!="light"&&r.impact_style!="medium"&&r.impact_style!="heavy"&&r.impact_style!="rigid"&&r.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",r.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(r.type=="notification"){if(r.notification_type!="error"&&r.notification_type!="success"&&r.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",r.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(r.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",r.type),Error("WebAppHapticFeedbackTypeInvalid");return a.postEvent("web_app_trigger_haptic_feedback",!1,r),e}return e.impactOccurred=function(r){return t({type:"impact",impact_style:r})},e.notificationOccurred=function(r){return t({type:"notification",notification_type:r})},e.selectionChanged=function(){return t({type:"selection_change"})},e})(),Kt=(function(){var e={};function t(r,o,i){if(!W("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+_),Error("WebAppMethodUnsupported");return Fe(r,o,i),e}return e.setItem=function(r,o,i){return t("saveStorageValue",{key:r,value:o},i)},e.getItem=function(r,o){return e.getItems([r],o?function(i,c){i?o(i):o(null,c[r])}:null)},e.getItems=function(r,o){return t("getStorageValues",{keys:r},o)},e.removeItem=function(r,o){return e.removeItems([r],o)},e.removeItems=function(r,o){return t("deleteStorageValues",{keys:r},o)},e.getKeys=function(r){return t("getStorageKeys",{},r)},e})(),Yt=(function(){var e=!1,t=!1,r="unknown",o=!1,i=!1,c=!1,b="",m={};Object.defineProperty(m,"isInited",{get:function(){return e},enumerable:!0}),Object.defineProperty(m,"isBiometricAvailable",{get:function(){return e&&t},enumerable:!0}),Object.defineProperty(m,"biometricType",{get:function(){return r||"unknown"},enumerable:!0}),Object.defineProperty(m,"isAccessRequested",{get:function(){return o},enumerable:!0}),Object.defineProperty(m,"isAccessGranted",{get:function(){return o&&i},enumerable:!0}),Object.defineProperty(m,"isBiometricTokenSaved",{get:function(){return c},enumerable:!0}),Object.defineProperty(m,"deviceId",{get:function(){return b||""},enumerable:!0});var O={callbacks:[]},h=!1,x=!1,j=!1;a.onEvent("biometry_info_received",P),a.onEvent("biometry_auth_requested",u),a.onEvent("biometry_token_updated",g);function P(v,L){if(e=!0,L.available?(t=!0,r=L.type||"unknown",L.access_requested?(o=!0,i=!!L.access_granted,c=!!L.token_saved):(o=!1,i=!1,c=!1)):(t=!1,r="unknown",o=!1,i=!1,c=!1),b=L.device_id||"",O.callbacks.length>0){for(var I=0;I<O.callbacks.length;I++){var F=O.callbacks[I];F()}O.callbacks=[]}if(h){var le=h;h=!1,le.callback&&le.callback(i)}k("biometricManagerUpdated")}function u(v,L){var I=L.status=="authorized",F=L.token||"";if(x){var le=x;x=!1,le.callback&&le.callback(I,I?F:null)}k("biometricAuthRequested",I?{isAuthenticated:!0,biometricToken:F}:{isAuthenticated:!1})}function g(v,L){var I=!1;if(t&&o&&(L.status=="updated"?(c=!0,I=!0):L.status=="removed"&&(c=!1,I=!0)),j){var F=j;j=!1,F.callback&&F.callback(I)}k("biometricTokenUpdated",{isUpdated:I})}function A(){return W("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+_),!1)}function N(){if(!e)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return m.init=function(v){return!A()||e||(v&&O.callbacks.push(v),a.postEvent("web_app_biometry_get_info",!1)),m},m.requestAccess=function(v,L){if(!A())return m;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(h)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var I={};if(typeof v.reason<"u"){var F=te(v.reason);if(F.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",F),Error("WebAppBiometricRequestAccessParamInvalid");F.length>0&&(I.reason=F)}return h={callback:L},a.postEvent("web_app_biometry_request_access",!1,I),m},m.authenticate=function(v,L){if(!A())return m;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!i)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(x)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var I={};if(typeof v.reason<"u"){var F=te(v.reason);if(F.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",F),Error("WebAppBiometricRequestAccessParamInvalid");F.length>0&&(I.reason=F)}return x={callback:L},a.postEvent("web_app_biometry_request_auth",!1,I),m},m.updateBiometricToken=function(v,L){if(!A())return m;if(v=v||"",v.length>1024)throw console.error("[Telegram.WebApp] Token is too long",v),Error("WebAppBiometricManagerTokenInvalid");if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!i)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(j)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return j={callback:L},a.postEvent("web_app_biometry_update_token",!1,{token:v}),m},m.openSettings=function(){if(!A())return m;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!o)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return i?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),m):(a.postEvent("web_app_biometry_open_settings",!1),m)},m})(),Xt=(function(){var e=!1,t=!1,r=!1,o=!1,i={};Object.defineProperty(i,"isInited",{get:function(){return e},enumerable:!0}),Object.defineProperty(i,"isLocationAvailable",{get:function(){return e&&t},enumerable:!0}),Object.defineProperty(i,"isAccessRequested",{get:function(){return r},enumerable:!0}),Object.defineProperty(i,"isAccessGranted",{get:function(){return r&&o},enumerable:!0});var c={callbacks:[]},b={callbacks:[]};a.onEvent("location_checked",m),a.onEvent("location_requested",O);function m(P,u){if(e=!0,u.available?(t=!0,u.access_requested?(r=!0,o=!!u.access_granted):(r=!1,o=!1)):(t=!1,r=!1,o=!1),c.callbacks.length>0){for(var g=0;g<c.callbacks.length;g++){var A=c.callbacks[g];A()}c.callbacks=[]}k("locationManagerUpdated")}function O(P,u){if(!u.available)g=null;else{var g={latitude:u.latitude,longitude:u.longitude,altitude:null,course:null,speed:null,horizontal_accuracy:null,vertical_accuracy:null,course_accuracy:null,speed_accuracy:null};typeof u.altitude<"u"&&u.altitude!==null&&(g.altitude=u.altitude),typeof u.course<"u"&&u.course!==null&&(g.course=u.course%360),typeof u.speed<"u"&&u.speed!==null&&(g.speed=u.speed),typeof u.horizontal_accuracy<"u"&&u.horizontal_accuracy!==null&&(g.horizontal_accuracy=u.horizontal_accuracy),typeof u.vertical_accuracy<"u"&&u.vertical_accuracy!==null&&(g.vertical_accuracy=u.vertical_accuracy),typeof u.course_accuracy<"u"&&u.course_accuracy!==null&&(g.course_accuracy=u.course_accuracy),typeof u.speed_accuracy<"u"&&u.speed_accuracy!==null&&(g.speed_accuracy=u.speed_accuracy)}!u.available||!t||!r||!o?(c.callbacks.push(function(){h(g)}),a.postEvent("web_app_check_location",!1)):h(g)}function h(P){if(b.callbacks.length>0){for(var u=0;u<b.callbacks.length;u++){var g=b.callbacks[u];g(P)}b.callbacks=[]}P!==null&&k("locationRequested",{locationData:P})}function x(){return W("8.0")?!0:(console.warn("[Telegram.WebApp] LocationManager is not supported in version "+_),!1)}function j(){if(!e)throw console.error("[Telegram.WebApp] LocationManager should be inited before using."),Error("WebAppLocationManagerNotInited");return!0}return i.init=function(P){return!x()||e||(P&&c.callbacks.push(P),a.postEvent("web_app_check_location",!1)),i},i.getLocation=function(P){if(!x())return i;if(j(),!t)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");return b.callbacks.push(P),a.postEvent("web_app_request_location"),i},i.openSettings=function(){if(!x())return i;if(j(),!t)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");if(!r)throw console.error("[Telegram.WebApp] Location access was not requested yet."),Error("WebAppLocationManagerLocationAccessNotRequested");return o?(console.warn("[Telegram.WebApp] Location access was granted by the user, no need to go to settings."),i):(a.postEvent("web_app_open_location_settings",!1),i)},i})(),Zt=(function(){var e=!1,t=null,r=null,o=null,i=[],c=[],b={};Object.defineProperty(b,"isStarted",{get:function(){return e},enumerable:!0}),Object.defineProperty(b,"x",{get:function(){return t},enumerable:!0}),Object.defineProperty(b,"y",{get:function(){return r},enumerable:!0}),Object.defineProperty(b,"z",{get:function(){return o},enumerable:!0}),a.onEvent("accelerometer_started",m),a.onEvent("accelerometer_stopped",O),a.onEvent("accelerometer_changed",h),a.onEvent("accelerometer_failed",x);function m(P,u){if(e=!0,i.length>0){for(var g=0;g<i.length;g++){var A=i[g];A(!0)}i=[]}k("accelerometerStarted")}function O(P,u){if(e=!1,c.length>0){for(var g=0;g<c.length;g++){var A=c[g];A(!0)}c=[]}k("accelerometerStopped")}function h(P,u){t=u.x,r=u.y,o=u.z,k("accelerometerChanged")}function x(P,u){if(i.length>0){for(var g=0;g<i.length;g++){var A=i[g];A(!1)}i=[]}k("accelerometerFailed",{error:u.error})}function j(){return W("8.0")?!0:(console.warn("[Telegram.WebApp] Accelerometer is not supported in version "+_),!1)}return b.start=function(P,u){if(P=P||{},!j())return b;var g={},A=parseInt(P.refresh_rate||1e3);return isNaN(A)||A<20||A>1e3?console.warn("[Telegram.WebApp] Accelerometer refresh_rate is invalid",A):g.refresh_rate=A,u&&i.push(u),a.postEvent("web_app_start_accelerometer",!1,g),b},b.stop=function(P){return j()&&(P&&c.push(P),a.postEvent("web_app_stop_accelerometer")),b},b})(),er=(function(){var e=!1,t=null,r=null,o=null,i=!1,c=[],b=[],m={};Object.defineProperty(m,"isStarted",{get:function(){return e},enumerable:!0}),Object.defineProperty(m,"absolute",{get:function(){return i},enumerable:!0}),Object.defineProperty(m,"alpha",{get:function(){return t},enumerable:!0}),Object.defineProperty(m,"beta",{get:function(){return r},enumerable:!0}),Object.defineProperty(m,"gamma",{get:function(){return o},enumerable:!0}),a.onEvent("device_orientation_started",O),a.onEvent("device_orientation_stopped",h),a.onEvent("device_orientation_changed",x),a.onEvent("device_orientation_failed",j);function O(u,g){if(e=!0,c.length>0){for(var A=0;A<c.length;A++){var N=c[A];N(!0)}c=[]}k("deviceOrientationStarted")}function h(u,g){if(e=!1,b.length>0){for(var A=0;A<b.length;A++){var N=b[A];N(!0)}b=[]}k("deviceOrientationStopped")}function x(u,g){i=!!g.absolute,t=g.alpha,r=g.beta,o=g.gamma,k("deviceOrientationChanged")}function j(u,g){if(c.length>0){for(var A=0;A<c.length;A++){var N=c[A];N(!1)}c=[]}k("deviceOrientationFailed",{error:g.error})}function P(){return W("8.0")?!0:(console.warn("[Telegram.WebApp] DeviceOrientation is not supported in version "+_),!1)}return m.start=function(u,g){if(u=u||{},!P())return m;var A={},N=parseInt(u.refresh_rate||1e3);return isNaN(N)||N<20||N>1e3?console.warn("[Telegram.WebApp] DeviceOrientation refresh_rate is invalid",N):A.refresh_rate=N,A.need_absolute=!!u.need_absolute,g&&c.push(g),a.postEvent("web_app_start_device_orientation",!1,A),m},m.stop=function(u){return P()&&(u&&b.push(u),a.postEvent("web_app_stop_device_orientation")),m},m})(),tr=(function(){var e=!1,t=null,r=null,o=null,i=[],c=[],b={};Object.defineProperty(b,"isStarted",{get:function(){return e},enumerable:!0}),Object.defineProperty(b,"x",{get:function(){return t},enumerable:!0}),Object.defineProperty(b,"y",{get:function(){return r},enumerable:!0}),Object.defineProperty(b,"z",{get:function(){return o},enumerable:!0}),a.onEvent("gyroscope_started",m),a.onEvent("gyroscope_stopped",O),a.onEvent("gyroscope_changed",h),a.onEvent("gyroscope_failed",x);function m(P,u){if(e=!0,i.length>0){for(var g=0;g<i.length;g++){var A=i[g];A(!0)}i=[]}k("gyroscopeStarted")}function O(P,u){if(e=!1,c.length>0){for(var g=0;g<c.length;g++){var A=c[g];A(!0)}c=[]}k("gyroscopeStopped")}function h(P,u){t=u.x,r=u.y,o=u.z,k("gyroscopeChanged")}function x(P,u){if(i.length>0){for(var g=0;g<i.length;g++){var A=i[g];A(!1)}i=[]}k("gyroscopeFailed",{error:u.error})}function j(){return W("8.0")?!0:(console.warn("[Telegram.WebApp] Gyroscope is not supported in version "+_),!1)}return b.start=function(P,u){if(P=P||{},!j())return b;var g={},A=parseInt(P.refresh_rate||1e3);return isNaN(A)||A<20||A>1e3?console.warn("[Telegram.WebApp] Gyroscope refresh_rate is invalid",A):g.refresh_rate=A,u&&i.push(u),a.postEvent("web_app_start_gyroscope",!1,g),b},b.stop=function(P){return j()&&(P&&c.push(P),a.postEvent("web_app_stop_gyroscope")),b},b})(),ye={};function rr(e,t){if(t.slug&&ye[t.slug]){var r=ye[t.slug];delete ye[t.slug],r.callback&&r.callback(t.status),k("invoiceClosed",{url:r.url,status:t.status})}}var ne=!1;function st(e,t){if(ne){var r=ne;ne=!1;var o=null;typeof t.button_id<"u"&&(o=t.button_id),r.callback&&r.callback(o),k("popupClosed",{button_id:o})}}var ue=!1;function or(e,t){if(ue){var r=ue,o=null;typeof t.data<"u"&&(o=t.data),r.callback&&r.callback(o)&&(ue=!1,a.postEvent("web_app_close_scan_qr_popup",!1)),k("qrTextReceived",{data:o})}}function nr(e,t){ue=!1,k("scanQrPopupClosed")}function ir(e,t){if(t.req_id&&ee[t.req_id]){var r=ee[t.req_id];delete ee[t.req_id];var o=null;typeof t.data<"u"&&(o=t.data),r.callback&&r.callback(o),k("clipboardTextReceived",{data:o})}}var we=!1;function ar(e,t){if(we){var r=we;we=!1,r.callback&&r.callback(t.status=="allowed"),k("writeAccessRequested",{status:t.status})}}function sr(e,t){var r,o,i=0,c=function(){Fe("getRequestedContact",{},function(m,O){O&&O.length?(clearTimeout(o),e(O)):(i+=50,r=setTimeout(c,i))})},b=function(){clearTimeout(r),e("")};o=setTimeout(b,t),c()}var Ae=!1;function lr(e,t){if(Ae){var r=Ae;Ae=!1;var o=t.status=="sent",i={status:t.status};o?sr(function(c){if(c&&c.length){i.response=c,i.responseUnsafe=d.urlParseQueryString(c);for(var b in i.responseUnsafe){var m=i.responseUnsafe[b];try{(m.substr(0,1)=="{"&&m.substr(-1)=="}"||m.substr(0,1)=="["&&m.substr(-1)=="]")&&(i.responseUnsafe[b]=JSON.parse(m))}catch{}}}r.callback&&r.callback(o,i),k("contactRequested",i)},3e3):(r.callback&&r.callback(o,i),k("contactRequested",i))}}var Ee=!1;function cr(e,t){if(Ee){var r=Ee;Ee=!1;var o=t.status=="downloading";r.callback&&r.callback(o),k("fileDownloadRequested",{status:o?"downloading":"cancelled"})}}function ur(e,t){if(t.req_id&&ee[t.req_id]){var r=ee[t.req_id];delete ee[t.req_id];var o=null,i=null;typeof t.result<"u"&&(o=t.result),typeof t.error<"u"&&(i=t.error),r.callback&&r.callback(i,o)}}function Fe(e,t,r){if(!W("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+_),Error("WebAppMethodUnsupported");var o=$e(16),i={req_id:o,method:e,params:t||{}};ee[o]={callback:r},a.postEvent("web_app_invoke_custom_method",!1,i)}window.Telegram||(window.Telegram={}),Object.defineProperty(n,"initData",{get:function(){return f},enumerable:!0}),Object.defineProperty(n,"initDataUnsafe",{get:function(){return B},enumerable:!0}),Object.defineProperty(n,"version",{get:function(){return _},enumerable:!0}),Object.defineProperty(n,"platform",{get:function(){return J},enumerable:!0}),Object.defineProperty(n,"colorScheme",{get:function(){return q},enumerable:!0}),Object.defineProperty(n,"themeParams",{get:function(){return T},enumerable:!0}),Object.defineProperty(n,"isExpanded",{get:function(){return Ke},enumerable:!0}),Object.defineProperty(n,"viewportHeight",{get:function(){return(me===!1?window.innerHeight:me)-K},enumerable:!0}),Object.defineProperty(n,"viewportStableHeight",{get:function(){return(ge===!1?window.innerHeight:ge)-K},enumerable:!0}),Object.defineProperty(n,"safeAreaInset",{get:function(){return re},enumerable:!0}),Object.defineProperty(n,"contentSafeAreaInset",{get:function(){return oe},enumerable:!0}),Object.defineProperty(n,"isClosingConfirmationEnabled",{set:function(e){Pt(e)},get:function(){return Be},enumerable:!0}),Object.defineProperty(n,"isVerticalSwipesEnabled",{set:function(e){St(e)},get:function(){return je},enumerable:!0}),Object.defineProperty(n,"isFullscreen",{get:function(){return M},enumerable:!0}),Object.defineProperty(n,"isOrientationLocked",{set:function(e){Ot(e)},get:function(){return G},enumerable:!0}),Object.defineProperty(n,"isActive",{get:function(){return Q},enumerable:!0}),Object.defineProperty(n,"headerColor",{set:function(e){Ft(e)},get:function(){return Nt()},enumerable:!0}),Object.defineProperty(n,"backgroundColor",{set:function(e){Ut(e)},get:function(){return Xe()},enumerable:!0}),Object.defineProperty(n,"bottomBarColor",{set:function(e){Ht(e)},get:function(){return he()},enumerable:!0}),Object.defineProperty(n,"BackButton",{value:Jt,enumerable:!0}),Object.defineProperty(n,"MainButton",{value:Qt,enumerable:!0}),Object.defineProperty(n,"SecondaryButton",{value:Dt,enumerable:!0}),Object.defineProperty(n,"SettingsButton",{value:at,enumerable:!0}),Object.defineProperty(n,"HapticFeedback",{value:$t,enumerable:!0}),Object.defineProperty(n,"CloudStorage",{value:Kt,enumerable:!0}),Object.defineProperty(n,"BiometricManager",{value:Yt,enumerable:!0}),Object.defineProperty(n,"Accelerometer",{value:Zt,enumerable:!0}),Object.defineProperty(n,"DeviceOrientation",{value:er,enumerable:!0}),Object.defineProperty(n,"Gyroscope",{value:tr,enumerable:!0}),Object.defineProperty(n,"LocationManager",{value:Xt,enumerable:!0}),n.isVersionAtLeast=function(e){return W(e)},n.setHeaderColor=function(e){n.headerColor=e},n.setBackgroundColor=function(e){n.backgroundColor=e},n.setBottomBarColor=function(e){n.bottomBarColor=e},n.enableClosingConfirmation=function(){n.isClosingConfirmationEnabled=!0},n.disableClosingConfirmation=function(){n.isClosingConfirmationEnabled=!1},n.enableVerticalSwipes=function(){n.isVerticalSwipesEnabled=!0},n.disableVerticalSwipes=function(){n.isVerticalSwipesEnabled=!1},n.lockOrientation=function(){n.isOrientationLocked=!0},n.unlockOrientation=function(){n.isOrientationLocked=!1},n.requestFullscreen=function(){if(!W("8.0"))throw console.error("[Telegram.WebApp] Method requestFullscreen is not supported in version "+_),Error("WebAppMethodUnsupported");a.postEvent("web_app_request_fullscreen")},n.exitFullscreen=function(){if(!W("8.0"))throw console.error("[Telegram.WebApp] Method exitFullscreen is not supported in version "+_),Error("WebAppMethodUnsupported");a.postEvent("web_app_exit_fullscreen")},n.addToHomeScreen=function(){if(!W("8.0"))throw console.error("[Telegram.WebApp] Method addToHomeScreen is not supported in version "+_),Error("WebAppMethodUnsupported");a.postEvent("web_app_add_to_home_screen")},n.checkHomeScreenStatus=function(e){if(!W("8.0"))throw console.error("[Telegram.WebApp] Method checkHomeScreenStatus is not supported in version "+_),Error("WebAppMethodUnsupported");e&&be.push(e),a.postEvent("web_app_check_home_screen")},n.onEvent=function(e,t){We(e,t)},n.offEvent=function(e,t){Pe(e,t)},n.sendData=function(e){if(!e||!e.length)throw console.error("[Telegram.WebApp] Data is required",e),Error("WebAppDataInvalid");if(zt(e)>4096)throw console.error("[Telegram.WebApp] Data is too long",e),Error("WebAppDataInvalid");a.postEvent("web_app_data_send",!1,{data:e})},n.switchInlineQuery=function(e,t){if(!W("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+_),Error("WebAppMethodUnsupported");if(!s.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(e=e||"",e.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",e),Error("WebAppInlineQueryInvalid");var r=[];if(t){if(!Array.isArray(t))throw console.error("[Telegram.WebApp] Choose chat types should be an array",t),Error("WebAppInlineChooseChatTypesInvalid");for(var o={users:1,bots:1,groups:1,channels:1},i=0;i<t.length;i++){var c=t[i];if(!o[c])throw console.error("[Telegram.WebApp] Choose chat type is invalid",c),Error("WebAppInlineChooseChatTypeInvalid");o[c]!=2&&(o[c]=2,r.push(c))}}a.postEvent("web_app_switch_inline_query",!1,{query:e,chat_types:r})},n.openLink=function(o,t){var r=document.createElement("A");if(r.href=o,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",o),Error("WebAppTgUrlInvalid");var o=r.href;if(t=t||{},W("6.1")){var i={url:o};W("6.4")&&t.try_instant_view&&(i.try_instant_view=!0),W("7.6")&&t.try_browser&&(i.try_browser=t.try_browser),a.postEvent("web_app_open_link",!1,i)}else window.open(o,"_blank")},n.openTelegramLink=function(e,t){var r=document.createElement("A");if(r.href=e,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");if(r.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",e),Error("WebAppTgUrlInvalid");var o=r.pathname+r.search;if(t=t||{},w||W("6.1")){var i={path_full:o};t.force_request&&(i.force_request=!0),a.postEvent("web_app_open_tg_link",!1,i)}else location.href="https://t.me"+o},n.openInvoice=function(e,t){var r=document.createElement("A"),o,i;if(r.href=e,r.protocol!="http:"&&r.protocol!="https:"||r.hostname!="t.me"||!(o=r.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(i=o[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",e),Error("WebAppInvoiceUrlInvalid");if(!W("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+_),Error("WebAppMethodUnsupported");if(ye[i])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");ye[i]={url:e,callback:t},a.postEvent("web_app_open_invoice",!1,{slug:i})},n.showPopup=function(e,t){if(!W("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+_),Error("WebAppMethodUnsupported");if(ne)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var r="",o="",i=[],c={};if(typeof e.title<"u"){if(r=te(e.title),r.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",r),Error("WebAppPopupParamInvalid");r.length>0&&(c.title=r)}if(typeof e.message<"u"&&(o=te(e.message)),!o.length)throw console.error("[Telegram.WebApp] Popup message is required",e.message),Error("WebAppPopupParamInvalid");if(o.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",o),Error("WebAppPopupParamInvalid");if(c.message=o,typeof e.buttons<"u"){if(!Array.isArray(e.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",e.buttons),Error("WebAppPopupParamInvalid");for(var b=0;b<e.buttons.length;b++){var m=e.buttons[b],O={},h="";if(typeof m.id<"u"&&(h=m.id.toString(),h.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",h),Error("WebAppPopupParamInvalid");O.id=h;var x=m.type;if(typeof x>"u"&&(x="default"),O.type=x,!(x=="ok"||x=="close"||x=="cancel"))if(x=="default"||x=="destructive"){var j="";if(typeof m.text<"u"&&(j=te(m.text)),!j.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+x,m.text),Error("WebAppPopupParamInvalid");if(j.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",j),Error("WebAppPopupParamInvalid");O.text=j}else throw console.error("[Telegram.WebApp] Popup button type is invalid",x),Error("WebAppPopupParamInvalid");i.push(O)}}else i.push({id:"",type:"close"});if(i.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(i.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");c.buttons=i,ne={callback:t},a.postEvent("web_app_open_popup",!1,c)},n.showAlert=function(e,t){n.showPopup({message:e},t?function(){t()}:null)},n.showConfirm=function(e,t){n.showPopup({message:e,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},t?function(r){t(r=="ok")}:null)},n.showScanQrPopup=function(e,t){if(!W("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+_),Error("WebAppMethodUnsupported");if(ue)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var r="",o={};if(typeof e.text<"u"){if(r=te(e.text),r.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",r),Error("WebAppScanQrPopupParamInvalid");r.length>0&&(o.text=r)}ue={callback:t},a.postEvent("web_app_open_scan_qr_popup",!1,o)},n.closeScanQrPopup=function(){if(!W("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+_),Error("WebAppMethodUnsupported");ue=!1,a.postEvent("web_app_close_scan_qr_popup",!1)},n.readTextFromClipboard=function(e){if(!W("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+_),Error("WebAppMethodUnsupported");var t=$e(16),r={req_id:t};ee[t]={callback:e},a.postEvent("web_app_read_text_from_clipboard",!1,r)},n.requestWriteAccess=function(e){if(!W("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+_),Error("WebAppMethodUnsupported");if(we)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");we={callback:e},a.postEvent("web_app_request_write_access")},n.requestContact=function(e){if(!W("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+_),Error("WebAppMethodUnsupported");if(Ae)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Ae={callback:e},a.postEvent("web_app_request_phone")},n.downloadFile=function(e,t){if(!W("8.0"))throw console.error("[Telegram.WebApp] Method downloadFile is not supported in version "+_),Error("WebAppMethodUnsupported");if(Ee)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppDownloadFilePopupOpened");var r=document.createElement("A"),o={};if(!e||!e.url||!e.url.length)throw console.error("[Telegram.WebApp] Url is required"),Error("WebAppDownloadFileParamInvalid");if(r.href=e.url,r.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",url),Error("WebAppDownloadFileParamInvalid");if(o.url=r.href,!e||!e.file_name||!e.file_name.length)throw console.error("[Telegram.WebApp] File name is required"),Error("WebAppDownloadFileParamInvalid");o.file_name=e.file_name,Ee={callback:t},a.postEvent("web_app_request_file_download",!1,o)},n.shareToStory=function(e,t){if(t=t||{},!W("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+_),Error("WebAppMethodUnsupported");var r=document.createElement("A");if(r.href=e,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var o={};if(o.media_url=r.href,typeof t.text<"u"){var i=te(t.text);if(i.length>2048)throw console.error("[Telegram.WebApp] Text is too long",i),Error("WebAppShareToStoryParamInvalid");i.length>0&&(o.text=i)}if(typeof t.widget_link<"u"){if(t.widget_link=t.widget_link||{},r.href=t.widget_link.url,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var c={url:r.href};if(typeof t.widget_link.name<"u"){var b=te(t.widget_link.name);if(b.length>48)throw console.error("[Telegram.WebApp] Link name is too long",b),Error("WebAppShareToStoryParamInvalid");b.length>0&&(c.name=b)}o.widget_link=c}a.postEvent("web_app_share_to_story",!1,o)},n.shareMessage=function(e,t){if(!W("8.0"))throw console.error("[Telegram.WebApp] Method shareMessage is not supported in version "+_),Error("WebAppMethodUnsupported");if(ae)throw console.error("[Telegram.WebApp] Share message is already opened"),Error("WebAppShareMessageOpened");ae={callback:t},a.postEvent("web_app_send_prepared_message",!1,{id:e})},n.setEmojiStatus=function(e,t,r){if(t=t||{},!W("8.0"))throw console.error("[Telegram.WebApp] Method setEmojiStatus is not supported in version "+_),Error("WebAppMethodUnsupported");var o={};if(o.custom_emoji_id=e,typeof t.duration<"u"&&(o.duration=t.duration),se)throw console.error("[Telegram.WebApp] Emoji status is already requested"),Error("WebAppEmojiStatusRequested");se={callback:r},a.postEvent("web_app_set_emoji_status",!1,o)},n.requestEmojiStatusAccess=function(e){if(!W("8.0"))throw console.error("[Telegram.WebApp] Method requestEmojiStatusAccess is not supported in version "+_),Error("WebAppMethodUnsupported");if(ve)throw console.error("[Telegram.WebApp] Emoji status permission is already requested"),Error("WebAppEmojiStatusAccessRequested");ve={callback:e},a.postEvent("web_app_request_emoji_status_access")},n.invokeCustomMethod=function(e,t,r){Fe(e,t,r)},n.ready=function(){a.postEvent("web_app_ready")},n.expand=function(){a.postEvent("web_app_expand")},n.close=function(e){e=e||{};var t={};W("7.6")&&e.return_back&&(t.return_back=!0),a.postEvent("web_app_close",!1,t)},window.Telegram.WebApp=n,Me(),Re(),Le(),Ie(),s.tgWebAppShowSettings&&at.show(),window.addEventListener("resize",Je),w&&document.addEventListener("click",Tt),a.onEvent("theme_changed",ht),a.onEvent("viewport_changed",yt),a.onEvent("safe_area_changed",wt),a.onEvent("content_safe_area_changed",At),a.onEvent("visibility_changed",Et),a.onEvent("invoice_closed",rr),a.onEvent("popup_closed",st),a.onEvent("qr_text_received",or),a.onEvent("scan_qr_popup_closed",nr),a.onEvent("clipboard_text_received",ir),a.onEvent("write_access_requested",ar),a.onEvent("phone_requested",lr),a.onEvent("file_download_requested",cr),a.onEvent("custom_method_invoked",ur),a.onEvent("fullscreen_changed",xt),a.onEvent("fullscreen_failed",Ct),a.onEvent("home_screen_added",It),a.onEvent("home_screen_checked",Bt),a.onEvent("prepared_message_sent",jt),a.onEvent("prepared_message_failed",qt),a.onEvent("emoji_status_set",Mt),a.onEvent("emoji_status_failed",Rt),a.onEvent("emoji_status_access_requested",Lt),a.postEvent("web_app_request_theme"),a.postEvent("web_app_request_viewport"),a.postEvent("web_app_request_safe_area"),a.postEvent("web_app_request_content_safe_area")})()),mt}var bt;function lo(){if(bt)return ke;bt=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.WebApp=void 0,so();var d=window;return ke.WebApp=d.Telegram.WebApp,ke}var vt;function co(){if(vt)return Ce;vt=1,Object.defineProperty(Ce,"__esModule",{value:!0});var d=lo();return Ce.default=d.WebApp,Ce}var uo=co();const po=_t(uo);po.ready();Or.createRoot(document.getElementById("root")).render(E.jsx(Tr.StrictMode,{children:E.jsx(io,{})}));const fo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{po as W,Ur as u};

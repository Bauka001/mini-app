import{j as e,c as p}from"./vendor-ui-CeXOM041.js";import{a as i}from"./vendor-react-BHatN85T.js";import{G as I}from"./GameWrapper-DlsME0o6.js";import{u as v}from"./index-BN-omT0U.js";import{S as g}from"./skins-DN-ISiFM.js";import{u as _}from"./vendor-utils-IhVzdFhg.js";const F=()=>{const{t:d}=_(),{addGameResult:f}=v();return e.jsx(I,{title:d("game_math","Arithmetic"),instructions:d("math_desc","Solve 10 math problems as fast as you can."),children:({onEnd:l})=>e.jsx(A,{onEnd:(m,c)=>{f({gameId:"math",score:m,coinsEarned:c}),l(m,c)}})})},A=({onEnd:d})=>{const{activeSkin:f}=v(),[l,m]=i.useState(null),[c,j]=i.useState(0),[h,M]=i.useState(0),[u,S]=i.useState(60),[N,b]=i.useState(!1),y=g[f]||g.default;i.useEffect(()=>{w();const a=setInterval(()=>{S(r=>r<=.1?(clearInterval(a),d("Failed (Time)",0),0):r-.1)},100);return()=>clearInterval(a)},[]);const w=()=>{const a=["+","-","*"],r=a[Math.floor(Math.random()*a.length)];let s,t,o;r==="*"?(s=Math.floor(Math.random()*9)+2,t=Math.floor(Math.random()*9)+2,o=s*t):(s=Math.floor(Math.random()*50)+1,t=Math.floor(Math.random()*50)+1,r==="-"?(s<t&&([s,t]=[t,s]),o=s-t):o=s+t);const n=new Set;for(n.add(o);n.size<4;){const C=Math.floor(Math.random()*10)-5,x=o+C;x!==o&&x>0&&n.add(x),n.size<4&&n.add(o+Math.floor(Math.random()*20)+1)}m({text:`${s} ${r} ${t}`,answer:o,options:Array.from(n).sort(()=>Math.random()-.5)})},k=a=>{let r=!1;l&&a===l.answer?(r=!0,M(t=>t+1)):(b(!0),setTimeout(()=>b(!1),300));const s=c+1;if(j(s),s>=10){const t=(60-u).toFixed(1),o=r?h+1:h,n=o*2;d(`${o}/10 (${t}s)`,n)}else w()};return l?e.jsxs("div",{className:"h-full flex flex-col items-center justify-between p-6 pb-20 relative",children:[e.jsxs("div",{className:"w-full flex justify-between text-lg font-bold",children:[e.jsxs("div",{className:"px-4 py-2 rounded-full bg-white/10 backdrop-blur-md border border-white/5 text-primary shadow-lg",children:["Correct: ",h,"/10"]}),e.jsxs("div",{className:p("px-4 py-2 rounded-full backdrop-blur-md border border-white/5 shadow-lg transition-colors",u<10?"bg-red-500/20 text-red-500 animate-pulse":"bg-white/10 text-white"),children:[u.toFixed(1),"s"]}),e.jsxs("div",{className:"px-4 py-2 rounded-full bg-white/10 backdrop-blur-md border border-white/5 text-white shadow-lg",children:["Q: ",c+1,"/10"]})]}),e.jsxs("div",{className:p("flex-1 flex flex-col items-center justify-center w-full transition-all duration-300 rounded-3xl mb-8 border border-white/5 relative overflow-hidden",N?"bg-red-500/20 shadow-[0_0_50px_rgba(239,68,68,0.4)]":"bg-white/5 backdrop-blur-xl shadow-2xl"),children:[e.jsx("h2",{className:"text-7xl font-black tracking-wider text-transparent bg-clip-text bg-gradient-to-br from-white to-gray-400 drop-shadow-2xl",children:l.text}),e.jsx("div",{className:"mt-4 text-2xl text-gray-400 font-bold",children:"= ?"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:l.options.map((a,r)=>e.jsxs("button",{onClick:()=>k(a),className:p("text-4xl font-bold py-8 rounded-2xl active:scale-95 transition-all duration-200 shadow-lg relative overflow-hidden group",y),children:[e.jsx("span",{className:"relative z-10",children:a}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent pointer-events-none"})]},r))})]}):null};export{A as MathBoard,F as MathGame,F as default};
